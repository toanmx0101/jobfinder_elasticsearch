<div class="filter-result">
  <div class="filter-items">
    <%= form_tag search_path, method: 'get' do %>
      <div class="search-title">
        <div class="skills-header">
         <div class="filter-title-div"> 
            <h4>Search job by keyword</h4>
          </div>
        </div>  
          <%= text_field_tag :q, params[:q], placeholder: 'Search job by keyword', class: 'input--text', autofocus: 'true',onfocus: 'this.value = this.value;', onkeydown: "if (event.keyCode == 13) { this.form.submit(); return false; }"%>
      </div>
      <div class="filters">
        <div class="filter-title-div">
          <h3><span>Filters</span></h3>
        </div>
        <div class="clear-filter-div">
          <div>
            <span>Clear all filters</span>
          </div>
        </div>  
      </div>
      <div class="locations">
        <div class="skills-header">
          <div class="filter-title-div"> 
            <h4>Location</h4>
          </div>
        </div>
        <div class="job-location-checkbox" style="padding-left: 8px;">
          <% common_locations.each do |location| %>
            <label class="job-checkbox">
              <%= location[:key] %> (<%= location[:doc_count] %>)
              <input class="common-locations" type="checkbox" value="<%= location[:key] %>" onclick="handleClickCheckbox(this)">
              <span class="checkmark"></span>
            </label>
          <% end %>
        </div>
      </div>
      <div class="locations">
        <div class="skills-header">
          <div class="filter-title-div"> 
            <h4>Job type</h4>
          </div>
        </div>
        <div class="job-type-checkbox" style="padding-left: 8px;">
          <% common_job_types.each do |job_type| %>
            <label class="job-checkbox">
              <span class="jt-title"><%= job_type[:key] %> (<%= job_type[:doc_count] %>)</span>
              <input class="common-jobtypes" type="checkbox" value="<%= job_type[:key] %>" onclick="handleClickCheckbox(this)">
              <span class="checkmark"></span>
            </label>
          <% end %>
        </div>
      </div>
    <% end %>    

  </div>
</div>
<script type="text/javascript">
  $(document).ready(function() {
    $('.js-example-basic-multiple').select2();
    $('.js-example-basic-single').select2();
    $( ".filter-icon").click(function() {
      if ($(this).hasClass("list-choice")) {
        $( ".filter-icon").removeClass('filter-choice-active')
        $(this).addClass('filter-choice-active')
        $('.job-resul-card').addClass("list")
        $('.job-resul-card').removeClass("map");
      }
      if ($(this).hasClass("grid-choice")) {
        $( ".filter-icon").removeClass('filter-choice-active')
        $(this).addClass('filter-choice-active')
        $('.job-resul-card').addClass("map")
        $('.job-resul-card').removeClass("list");
      }
    });
  });
</script>